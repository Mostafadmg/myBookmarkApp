{"version":3,"file":"index-Cx9ozPCS.js","sources":["../../src/js/services/path.js","../../src/js/api/api.js","../../src/js/state/bookmarkFactory.js","../../src/js/icons.js","../../src/js/components/bookmark.js","../../src/js/services/storage.js","../../src/js/ui/refreshUI.js","../../src/js/state/state.js","../../src/js/components/sidebar.js","../../src/js/services/favicon.js","../../src/js/validation/validation.js","../../src/js/components/modal.js","../../src/js/components/header.js","../../src/js/components/app.js","../../src/js/ui/theme.js","../../src/handlers/handlers.js","../../src/js/main.js"],"sourcesContent":["export function withBase(path = \"\") {\n  const cleanPath = String(path).replace(/^\\/+/, \"\");\n  return `${import.meta.env.BASE_URL}${cleanPath}`;\n}\n","import { withBase } from \"../services/path\";\n\nexport async function fetchData() {\n  try {\n    const url = import.meta.env.DEV\n      ? withBase(`data.json?t=${Date.now()}`)\n      : withBase(\"data.json\");\n    const response = await fetch(url, { cache: \"no-store\" });\n\n    if (!response.ok) {\n      throw new Error(`Failed to load data.json (${response.status})`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(error);\n    return { bookmarks: [] };\n  }\n}\n","export function createBookmark(overrides = {}) {\n  return {\n    id: crypto.randomUUID(),\n    title: \"\",\n    description: \"\",\n    url: \"\",\n    tags: [],\n    pinned: false,\n    isArchived: false,\n    favicon: \"\",\n    createdAt: Date.now(),\n    visitCount: 0,\n    lastVisited: null,\n    ...overrides,\n  };\n}\n","export const icons = {\n  close: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\">\n                <path d=\"M10.7998 0.799999L0.799805 10.8M0.799805 0.799999L10.7998 10.8\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>`,\n\n  modalClose: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M15 5L5 15M5 5L15 15\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>`,\n\n  home: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"18\" viewBox=\"0 0 17 18\" fill=\"none\" class=\"nav-icon\">\n                    <path d=\"M4.96647 13.0776H11.6331M7.48122 1.21429L1.8293 5.61023C1.45149 5.90408 1.26259 6.05101 1.12649 6.23501C1.00594 6.398 0.916139 6.58161 0.861494 6.77684C0.799805 6.99723 0.799805 7.23654 0.799805 7.71517V13.7443C0.799805 14.6777 0.799805 15.1444 0.98146 15.5009C1.14125 15.8145 1.39622 16.0695 1.70982 16.2293C2.06634 16.4109 2.53305 16.4109 3.46647 16.4109H13.1331C14.0666 16.4109 14.5333 16.4109 14.8898 16.2293C15.2034 16.0695 15.4584 15.8145 15.6181 15.5009C15.7998 15.1444 15.7998 14.6777 15.7998 13.7443V7.71517C15.7998 7.23654 15.7998 6.99723 15.7381 6.77684C15.6835 6.58161 15.5937 6.398 15.4731 6.23501C15.337 6.05101 15.1481 5.90408 14.7703 5.61023L9.11839 1.21429C8.82562 0.986583 8.67924 0.872727 8.51759 0.828962C8.37497 0.790345 8.22464 0.790345 8.08202 0.828962C7.92037 0.872727 7.77399 0.986583 7.48122 1.21429Z\" stroke=\"var(--color-text)\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                </svg>`,\n\n  archived: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" class=\"nav-icon\">\n                    <path d=\"M3.33366 6.66383C3.19699 6.6603 3.09774 6.65239 3.00851 6.63464C2.34736 6.50313 1.83053 5.9863 1.69902 5.32515C1.66699 5.16415 1.66699 4.97055 1.66699 4.58333C1.66699 4.19612 1.66699 4.00251 1.69902 3.84152C1.83053 3.18037 2.34736 2.66354 3.00851 2.53202C3.16951 2.5 3.36311 2.5 3.75033 2.5H16.2503C16.6375 2.5 16.8311 2.5 16.9921 2.53202C17.6533 2.66354 18.1701 3.18037 18.3016 3.84152C18.3337 4.00251 18.3337 4.19612 18.3337 4.58333C18.3337 4.97055 18.3337 5.16415 18.3016 5.32515C18.1701 5.9863 17.6533 6.50313 16.9921 6.63464C16.9029 6.65239 16.8037 6.6603 16.667 6.66383M8.33366 10.8333H11.667M3.33366 6.66667H16.667V13.5C16.667 14.9001 16.667 15.6002 16.3945 16.135C16.1548 16.6054 15.7724 16.9878 15.302 17.2275C14.7672 17.5 14.0671 17.5 12.667 17.5H7.33366C5.93353 17.5 5.23346 17.5 4.69868 17.2275C4.22828 16.9878 3.84583 16.6054 3.60614 16.135C3.33366 15.6002 3.33366 14.9001 3.33366 13.5V6.66667Z\" stroke=\"var(--color-text)\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                </svg>`,\n\n  sort: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M14.1667 3.33333V16.6667M14.1667 16.6667L10.8333 13.3333M14.1667 16.6667L17.5 13.3333M5.83333 16.6667V3.33333M5.83333 3.33333L2.5 6.66667M5.83333 3.33333L9.16667 6.66667\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>`,\n\n  tick: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" aria-hidden=\"true\">\n                <path d=\"M16.6663 5L7.49967 14.1667L3.33301 10\" stroke=\"currentColor\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>`,\n\n  views: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M2.01677 10.5943C1.90328 10.4146 1.84654 10.3248 1.81477 10.1862C1.79091 10.0821 1.79091 9.91792 1.81477 9.81382C1.84654 9.67523 1.90328 9.58538 2.01677 9.40568C2.95461 7.9207 5.74617 4.16667 10.0003 4.16667C14.2545 4.16667 17.0461 7.9207 17.9839 9.40568C18.0974 9.58538 18.1541 9.67523 18.1859 9.81382C18.2098 9.91792 18.2098 10.0821 18.1859 10.1862C18.1541 10.3248 18.0974 10.4146 17.9839 10.5943C17.0461 12.0793 14.2545 15.8333 10.0003 15.8333C5.74617 15.8333 2.95461 12.0793 2.01677 10.5943Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                <path d=\"M10.0003 12.5C11.381 12.5 12.5003 11.3807 12.5003 10C12.5003 8.61929 11.381 7.5 10.0003 7.5C8.61962 7.5 7.50034 8.61929 7.50034 10C7.50034 11.3807 8.61962 12.5 10.0003 12.5Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>`,\n\n  time: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <g>\n                    <path d=\"M10.0003 5V10L13.3337 11.6667M18.3337 10C18.3337 14.6024 14.6027 18.3333 10.0003 18.3333C5.39795 18.3333 1.66699 14.6024 1.66699 10C1.66699 5.39763 5.39795 1.66667 10.0003 1.66667C14.6027 1.66667 18.3337 5.39763 18.3337 10Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                </g>\n            </svg>`,\n\n  date: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                    <path d=\"M17.5 8.33333H2.5M13.3333 1.66667V5M6.66667 1.66667V5M6.5 18.3333H13.5C14.9001 18.3333 15.6002 18.3333 16.135 18.0608C16.6054 17.8212 16.9878 17.4387 17.2275 16.9683C17.5 16.4335 17.5 15.7335 17.5 14.3333V7.33333C17.5 5.9332 17.5 5.23314 17.2275 4.69836C16.9878 4.22795 16.6054 3.8455 16.135 3.60582C15.6002 3.33333 14.9001 3.33333 13.5 3.33333H6.5C5.09987 3.33333 4.3998 3.33333 3.86502 3.60582C3.39462 3.8455 3.01217 4.22795 2.77248 4.69836C2.5 5.23314 2.5 5.9332 2.5 7.33333V14.3333C2.5 15.7335 2.5 16.4335 2.77248 16.9683C3.01217 17.4387 3.39462 17.8212 3.86502 18.0608C4.3998 18.3333 5.09987 18.3333 6.5 18.3333Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                </svg>`,\n\n  pin: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n            <path d=\"M10.0005 12.5L10.0005 18.3333M6.66719 6.09011V7.86562C6.66719 8.03897 6.66719 8.12565 6.65017 8.20855C6.63508 8.2821 6.61011 8.35328 6.57595 8.42014C6.53745 8.49551 6.4833 8.56319 6.37501 8.69855L5.06686 10.3337C4.51208 11.0272 4.23469 11.374 4.23438 11.6658C4.2341 11.9196 4.34949 12.1596 4.54783 12.318C4.7759 12.5 5.21994 12.5 6.10802 12.5H13.893C14.7811 12.5 15.2251 12.5 15.4532 12.318C15.6516 12.1596 15.7669 11.9196 15.7667 11.6658C15.7664 11.374 15.489 11.0272 14.9342 10.3337L13.626 8.69855C13.5177 8.56319 13.4636 8.49551 13.4251 8.42014C13.3909 8.35328 13.366 8.2821 13.3509 8.20855C13.3339 8.12565 13.3339 8.03897 13.3339 7.86562V6.09011C13.3339 5.99417 13.3339 5.9462 13.3393 5.8989C13.3441 5.85687 13.3521 5.81528 13.3632 5.77447C13.3758 5.72854 13.3936 5.684 13.4292 5.59492L14.2691 3.49519C14.5141 2.88261 14.6367 2.57633 14.5856 2.33045C14.5409 2.11544 14.4131 1.92676 14.2301 1.80542C14.0208 1.66667 13.6909 1.66667 13.0311 1.66667H6.9699C6.31014 1.66667 5.98026 1.66667 5.77094 1.80542C5.5879 1.92676 5.46016 2.11544 5.41548 2.33045C5.36439 2.57633 5.4869 2.88261 5.73193 3.49519L6.57182 5.59492C6.60745 5.684 6.62527 5.72854 6.6378 5.77447C6.64894 5.81528 6.65695 5.85687 6.66176 5.8989C6.66719 5.9462 6.66719 5.99417 6.66719 6.09011Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        </svg>`,\n\n  menu: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"12\" viewBox=\"0 0 17 12\" fill=\"none\">\n                  <path d=\"M0.799805 5.8H15.7998M0.799805 0.799999H15.7998M0.799805 10.8H15.7998\" stroke=\"black\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                </svg>`,\n\n  search: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M17.5 17.5L13.875 13.875M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z\" stroke=\"#4C5C59\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n              </svg>`,\n\n  add: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                <path d=\"M10.0003 4.16667V15.8333M4.16699 10H15.8337\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n              </svg>`,\n\n  palette: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                        <path d=\"M1.3335 8.00004C1.3335 11.6819 4.31826 14.6667 8.00016 14.6667C9.10473 14.6667 10.0002 13.7713 10.0002 12.6667V12.3334C10.0002 12.0238 10.0002 11.869 10.0173 11.739C10.1354 10.8415 10.8416 10.1353 11.7391 10.0172C11.8691 10 12.0239 10 12.3335 10H12.6668C13.7714 10 14.6668 9.10461 14.6668 8.00004C14.6668 4.31814 11.6821 1.33337 8.00016 1.33337C4.31826 1.33337 1.3335 4.31814 1.3335 8.00004Z\" stroke=\"#4C5C59\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        <path d=\"M4.66683 8.66671C5.03502 8.66671 5.3335 8.36823 5.3335 8.00004C5.3335 7.63185 5.03502 7.33337 4.66683 7.33337C4.29864 7.33337 4.00016 7.63185 4.00016 8.00004C4.00016 8.36823 4.29864 8.66671 4.66683 8.66671Z\" stroke=\"#4C5C59\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        <path d=\"M10.6668 6.00004C11.035 6.00004 11.3335 5.70156 11.3335 5.33337C11.3335 4.96518 11.035 4.66671 10.6668 4.66671C10.2986 4.66671 10.0002 4.96518 10.0002 5.33337C10.0002 5.70156 10.2986 6.00004 10.6668 6.00004Z\" stroke=\"#4C5C59\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        <path d=\"M6.66683 5.33337C7.03502 5.33337 7.3335 5.0349 7.3335 4.66671C7.3335 4.29852 7.03502 4.00004 6.66683 4.00004C6.29864 4.00004 6.00016 4.29852 6.00016 4.66671C6.00016 5.0349 6.29864 5.33337 6.66683 5.33337Z\" stroke=\"#4C5C59\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                      </svg>`,\n\n  sun: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" aria-hidden=\"true\">\n                        <path d=\"M7.00033 1.16663V2.33329M7.00033 11.6666V12.8333M2.33366 6.99996H1.16699M3.68356 3.68319L2.8586 2.85824M10.3171 3.68319L11.142 2.85824M3.68356 10.3191L2.8586 11.1441M10.3171 10.3191L11.142 11.1441M12.8337 6.99996H11.667M9.91699 6.99996C9.91699 8.61079 8.61116 9.91663 7.00033 9.91663C5.38949 9.91663 4.08366 8.61079 4.08366 6.99996C4.08366 5.38913 5.38949 4.08329 7.00033 4.08329C8.61116 4.08329 9.91699 5.38913 9.91699 6.99996Z\" stroke=\"#051513\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                      </svg>`,\n\n  moon: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\" aria-hidden=\"true\">\n                          <path d=\"M12.2902 7.01504C11.487 8.42396 9.97106 9.37387 8.23324 9.37387C5.65591 9.37387 3.56657 7.28453 3.56657 4.7072C3.56657 2.96924 4.51663 1.45317 5.92573 0.650024C2.96559 0.930692 0.649902 3.42345 0.649902 6.45706C0.649902 9.67872 3.26157 12.2904 6.48324 12.2904C9.51669 12.2904 12.0093 9.97496 12.2902 7.01504Z\" stroke=\"#051513\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>`,\n\n  logout: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\n                        <path d=\"M14.25 16.5L18.75 12M18.75 12L14.25 7.5M18.75 12H9.75\" stroke=\"#051513\" stroke-width=\"1.75\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        <path d=\"M10.5 4.5H7.5A2.25 2.25 0 0 0 5.25 6.75v10.5A2.25 2.25 0 0 0 7.5 19.5h3\" stroke=\"#051513\" stroke-width=\"1.75\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                      </svg>`,\n\n  dots: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                        <path d=\"M10.0003 10.8333C10.4606 10.8333 10.8337 10.4602 10.8337 10C10.8337 9.53976 10.4606 9.16667 10.0003 9.16667C9.54009 9.16667 9.16699 9.53976 9.16699 10C9.16699 10.4602 9.54009 10.8333 10.0003 10.8333Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        <path d=\"M10.0003 5C10.4606 5 10.8337 4.6269 10.8337 4.16667C10.8337 3.70643 10.4606 3.33333 10.0003 3.33333C9.54009 3.33333 9.16699 3.70643 9.16699 4.16667C9.16699 4.6269 9.54009 5 10.0003 5Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        <path d=\"M10.0003 16.6667C10.4606 16.6667 10.8337 16.2936 10.8337 15.8333C10.8337 15.3731 10.4606 15 10.0003 15C9.54009 15 9.16699 15.3731 9.16699 15.8333C9.16699 16.2936 9.54009 16.6667 10.0003 16.6667Z\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                      </svg>`,\n\n  visit: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                          <path d=\"M14 6L14 2M14 2H10M14 2L8.66667 7.33333M6.66667 3.33333H5.2C4.0799 3.33333 3.51984 3.33333 3.09202 3.55132C2.71569 3.74307 2.40973 4.04903 2.21799 4.42535C2 4.85318 2 5.41323 2 6.53333V10.8C2 11.9201 2 12.4802 2.21799 12.908C2.40973 13.2843 2.71569 13.5903 3.09202 13.782C3.51984 14 4.0799 14 5.2 14H9.46667C10.5868 14 11.1468 14 11.5746 13.782C11.951 13.5903 12.2569 13.2843 12.4487 12.908C12.6667 12.4802 12.6667 11.9201 12.6667 10.8V9.33333\" stroke=\"#B1B9B9\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>`,\n\n  copy: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                        <path d=\"M3.3335 10.0002C2.71224 10.0002 2.40161 10.0002 2.15658 9.89867C1.82988 9.76334 1.57032 9.50378 1.43499 9.17707C1.3335 8.93205 1.3335 8.62142 1.3335 8.00016V3.46683C1.3335 2.72009 1.3335 2.34672 1.47882 2.06151C1.60665 1.81063 1.81063 1.60665 2.06151 1.47882C2.34672 1.3335 2.72009 1.3335 3.46683 1.3335H8.00016C8.62142 1.3335 8.93205 1.3335 9.17707 1.43499C9.50378 1.57032 9.76334 1.82988 9.89867 2.15658C10.0002 2.40161 10.0002 2.71224 10.0002 3.3335M8.1335 14.6668H12.5335C13.2802 14.6668 13.6536 14.6668 13.9388 14.5215C14.1897 14.3937 14.3937 14.1897 14.5215 13.9388C14.6668 13.6536 14.6668 13.2802 14.6668 12.5335V8.1335C14.6668 7.38676 14.6668 7.01339 14.5215 6.72818C14.3937 6.47729 14.1897 6.27332 13.9388 6.14549C13.6536 6.00016 13.2802 6.00016 12.5335 6.00016H8.1335C7.38676 6.00016 7.01339 6.00016 6.72818 6.14549C6.47729 6.27332 6.27332 6.47729 6.14549 6.72818C6.00016 7.01339 6.00016 7.38676 6.00016 8.1335V12.5335C6.00016 13.2802 6.00016 13.6536 6.14549 13.9388C6.27332 14.1897 6.47729 14.3937 6.72818 14.5215C7.01339 14.6668 7.38676 14.6668 8.1335 14.6668Z\" stroke=\"#B1B9B9\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                      </svg>`,\n\n  pinSmall: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                          <path d=\"M8.00012 10.0002L8.00012 14.6668M5.33346 4.87225V6.29266C5.33346 6.43134 5.33346 6.50068 5.31985 6.567C5.30777 6.62585 5.2878 6.68278 5.26047 6.73628C5.22966 6.79657 5.18635 6.85071 5.09972 6.959L4.0532 8.26715C3.60937 8.82194 3.38746 9.09933 3.38721 9.33278C3.38699 9.5358 3.4793 9.72787 3.63797 9.85452C3.82042 10.0002 4.17566 10.0002 4.88612 10.0002H11.1141C11.8246 10.0002 12.1798 10.0002 12.3623 9.85452C12.5209 9.72787 12.6133 9.5358 12.613 9.33278C12.6128 9.09933 12.3909 8.82194 11.947 8.26715L10.9005 6.959C10.8139 6.85071 10.7706 6.79657 10.7398 6.73628C10.7125 6.68278 10.6925 6.62585 10.6804 6.567C10.6668 6.50068 10.6668 6.43134 10.6668 6.29266V4.87225C10.6668 4.7955 10.6668 4.75713 10.6711 4.71928C10.675 4.68566 10.6814 4.65239 10.6903 4.61974C10.7003 4.58299 10.7146 4.54736 10.7431 4.4761L11.415 2.79631C11.611 2.30625 11.709 2.06123 11.6682 1.86453C11.6324 1.69252 11.5302 1.54157 11.3838 1.4445C11.2163 1.3335 10.9524 1.3335 10.4246 1.3335H5.57563C5.04782 1.3335 4.78391 1.3335 4.61646 1.4445C4.47003 1.54157 4.36783 1.69252 4.33209 1.86453C4.29122 2.06123 4.38923 2.30625 4.58525 2.79631L5.25717 4.4761C5.28567 4.54736 5.29992 4.58299 5.30995 4.61974C5.31886 4.65239 5.32526 4.68566 5.32912 4.71928C5.33346 4.75713 5.33346 4.7955 5.33346 4.87225Z\" stroke=\"#B1B9B9\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>`,\n\n  edit: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                        <path d=\"M7.3335 2.66666H4.5335C3.41339 2.66666 2.85334 2.66666 2.42552 2.88464C2.04919 3.07639 1.74323 3.38235 1.55148 3.75867C1.3335 4.1865 1.3335 4.74655 1.3335 5.86666V11.4667C1.3335 12.5868 1.3335 13.1468 1.55148 13.5746C1.74323 13.951 2.04919 14.2569 2.42552 14.4487C2.85334 14.6667 3.41339 14.6667 4.5335 14.6667H10.1335C11.2536 14.6667 11.8137 14.6667 12.2415 14.4487C12.6178 14.2569 12.9238 13.951 13.1155 13.5746C13.3335 13.1468 13.3335 12.5868 13.3335 11.4667V8.66666M5.33348 10.6667H6.44984C6.77596 10.6667 6.93902 10.6667 7.09247 10.6298C7.22852 10.5972 7.35858 10.5433 7.47788 10.4702C7.61243 10.3877 7.72773 10.2724 7.95833 10.0418L14.3335 3.66666C14.8858 3.11437 14.8858 2.21894 14.3335 1.66666C13.7812 1.11437 12.8858 1.11437 12.3335 1.66665L5.95832 8.04182C5.72772 8.27242 5.61241 8.38772 5.52996 8.52228C5.45685 8.64157 5.40298 8.77163 5.37032 8.90768C5.33348 9.06113 5.33348 9.22419 5.33348 9.55031V10.6667Z\" stroke=\"#B1B9B9\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                      </svg>`,\n\n  archiveSmall: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\">\n                          <path d=\"M2.66683 5.33106C2.55749 5.32824 2.47809 5.32191 2.40671 5.30771C1.87779 5.2025 1.46432 4.78904 1.35912 4.26012C1.3335 4.13132 1.3335 3.97644 1.3335 3.66667C1.3335 3.3569 1.3335 3.20201 1.35912 3.07321C1.46432 2.54429 1.87779 2.13083 2.40671 2.02562C2.53551 2 2.69039 2 3.00016 2H13.0002C13.3099 2 13.4648 2 13.5936 2.02562C14.1225 2.13083 14.536 2.54429 14.6412 3.07321C14.6668 3.20201 14.6668 3.3569 14.6668 3.66667C14.6668 3.97644 14.6668 4.13132 14.6412 4.26012C14.536 4.78904 14.1225 5.2025 13.5936 5.30771C13.5222 5.32191 13.4428 5.32824 13.3335 5.33106M6.66683 8.66667H9.3335M2.66683 5.33333H13.3335V10.8C13.3335 11.9201 13.3335 12.4802 13.1155 12.908C12.9238 13.2843 12.6178 13.5903 12.2415 13.782C11.8137 14 11.2536 14 10.1335 14H5.86683C4.74672 14 4.18667 14 3.75885 13.782C3.38252 13.5903 3.07656 13.2843 2.88482 12.908C2.66683 12.4802 2.66683 11.9201 2.66683 10.8V5.33333Z\" stroke=\"#B1B9B9\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                        </svg>`,\n  unarchive: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"17\" viewBox=\"0 0 18 17\" fill=\"none\">\n  <path d=\"M0.799805 6.63333C0.799805 6.63333 2.47062 4.35685 3.828 2.99854C5.18538 1.64022 7.06114 0.799999 9.13314 0.799999C13.2753 0.799999 16.6331 4.15786 16.6331 8.3C16.6331 12.4421 13.2753 15.8 9.13314 15.8C5.71389 15.8 2.82906 13.5119 1.92628 10.3833M0.799805 6.63333V1.63333M0.799805 6.63333H5.7998\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>`,\n  delete: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n  <path d=\"M7.5 2.5H12.5M2.5 5H17.5M15.8333 5L15.2489 13.7661C15.1612 15.0813 15.1174 15.7389 14.8333 16.2375C14.5833 16.6765 14.206 17.0294 13.7514 17.2497C13.235 17.5 12.5759 17.5 11.2578 17.5H8.74221C7.42409 17.5 6.76503 17.5 6.24861 17.2497C5.79396 17.0294 5.41674 16.6765 5.16665 16.2375C4.88259 15.7389 4.83875 15.0813 4.75107 13.7661L4.16667 5M8.33333 8.75V12.9167M11.6667 8.75V12.9167\" stroke=\"#051513\" stroke-width=\"1.6\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>`,\n};\n","import { state, getSortedBookmarks, formatDates } from \"../state/state\";\nimport { icons } from \"../icons\";\n\nconst SORT_OPTIONS = [\n  {\n    value: \"recently-added\",\n    label: \"Recently added\",\n  },\n  {\n    value: \"recently-visited\",\n    label: \"Recently visited\",\n  },\n  {\n    value: \"most-visited\",\n    label: \"Most visited\",\n  },\n];\n\nexport function renderBookmarks() {\n  return /*html*/ `\n<section class=\"cards\">\n    <header class=\"cards__header\">\n        <h1 class=\"cards__header-title text-1\">All Bookmarks</h1>\n\n        <div class=\"sortmenu\" data-state=\"closed\">\n            <button class=\"sort-btn text-3 sortmenu__trigger\" type=\"button\" data-action=\"sort\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"sortmenu-panel\">\n                ${icons.sort}\n                <span>Sort by</span>\n            </button>\n\n            <div class=\"sortmenu__panel\" id=\"sortmenu-panel\" data-state=\"closed\" aria-label=\"Sort bookmarks\">\n                ${renderSortOptions()}\n            </div>\n        </div>\n    </header>\n\n    <!-- cards start here -->\n    <section class=\"cards__container\">\n        ${renderBookmarkItem()}\n    </section>\n</section>\n`;\n}\n\nfunction renderSortOptions() {\n  return SORT_OPTIONS.map((option) => {\n    const isActive = state.selectedSort === option.value;\n\n    return /* html */ `\n<button class=\"sortmenu__option text-3${isActive ? \" is-active\" : \"\"}\" type=\"button\" data-action=\"set-sort\" data-sort-value=\"${option.value}\" aria-pressed=\"${isActive}\">\n    <span>${option.label}</span>\n    <span class=\"sortmenu__tick\">${icons.tick}</span>\n</button>\n`;\n  }).join(\"\");\n}\n\nexport function renderBookmarkItem() {\n  const bookmarks = getSortedBookmarks();\n\n  return bookmarks\n    .map((bookmark) => {\n      const panelId = `cardmenu-panel-${bookmark.id}`;\n      const archiveBtn = bookmark.isArchived\n        ? `<button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"open-unarchive-confirm\">\n    ${icons.unarchive}\n    <span>Unarchive</span>\n</button>`\n        : `<button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"open-archive-confirm\">\n    ${icons.archiveSmall}\n    <span>Archive</span>\n</button>`;\n\n      const deleteBtn = `<button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"delete-modal-open\">\n    ${icons.delete}\n    <span>Delete</span>\n</button>`;\n\n      const editBtn = ` <button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"edit-bookmark\">\n    ${icons.edit}\n    <span>Edit</span>\n</button>`;\n\n      const pinBtn = ` <button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"toggle-pin-bookmark\">\n    ${icons.pinSmall}\n    <span>${bookmark.pinned ? \"Unpin\" : \"Pin\"}</span>\n</button>\n`;\n\n      return /* html */ `\n<div class=\"card__item\" data-bookmark-id=\"${bookmark.id}\">\n    <div class=\"card__content\">\n        <div class=\"card__header\">\n            <!-- 1st item header -->\n            <div class=\"card__topic\">\n                <div class=\"card__favicon\">\n                    <img src=\"${bookmark.favicon}\" alt=\"codepen\" />\n                </div>\n                <!-- 2nd-item header -->\n                <div class=\"card__title\">\n                    <h2 class=\"text-2\">${bookmark.title}</h2>\n                    <p class=\"card__url text-5\">${bookmark.url}</p>\n                </div>\n            </div>\n\n            <!-- 3rd-item header -->\n            <div class=\"cardmenu\" data-state=\"closed\">\n                <button class=\"card-btn cardmenu__trigger\" type=\"button\" data-bookmark-id=\"${bookmark.id}\" data-action=\"toggle-cardmenu\" aria-haspopup=\"menu\" aria-expanded=\"false\" aria-controls=\"${panelId}\">\n                    ${icons.dots}\n                </button>\n\n                <div class=\"cardmenu__panel\" id=\"${panelId}\" aria-label=\"Bookmark actions\">\n                    <button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"visit-bookmark\">\n                        ${icons.visit}\n                        <span>Visit</span>\n                    </button>\n\n                    <button class=\"cardmenu__item\" role=\"menuitem\" type=\"button\" data-action=\"copy-bookmark-url\">\n                        ${icons.copy}\n                        <span>Copy URL</span>\n                    </button>\n\n                    ${bookmark.isArchived ? \"\" : pinBtn}\n                    ${bookmark.isArchived ? deleteBtn : editBtn}\n\n                    ${archiveBtn}\n\n                </div>\n            </div>\n        </div>\n\n        <div class=\"card__divider\"></div>\n\n        <div class=\"card__description text-4\">\n            ${bookmark.description}\n        </div>\n\n        <div class=\"card__tags text-5\">\n\n            ${bookmark.tags\n              .map((tag) => `<span class=\"card__tag-items\">${tag}</span>`)\n              .join(\"\")}\n\n        </div>\n    </div>\n\n    <div class=\"card__footer\">\n        <div class=\"card__info\">\n            <div class=\"card__views card-info\" data-tooltip=\"Visited ${bookmark.visitCount} times\">\n                ${icons.views}<span class=\"card__views-value text-5\">${bookmark.visitCount}</span>\n            </div>\n\n            <div class=\"card__time card-info\" data-tooltip=\"Created on ${formatDates(bookmark.createdAt)}\">\n                ${icons.time}<span class=\"card__time-value text-5\">${formatDates(bookmark.createdAt)}</span>\n            </div>\n\n            <div class=\"card__date card-info\" data-tooltip=\"${bookmark.lastVisited ? `Last visited on ${formatDates(bookmark.lastVisited)}` : \" Never visited\"}\">\n                <span class=\"card__time-date\">\n                    ${icons.date}\n                </span>\n                <span class=\"card__date-value text-5\">${bookmark.lastVisited ? formatDates(bookmark.lastVisited) : \"Never visited\"}</span>\n            </div>\n        </div>\n\n        ${\n          bookmark.isArchived\n            ? `<div class=\"card__archived\">Archived</div>`\n            : bookmark.pinned\n              ? ` <div class=\"card__pinned\">\n            ${icons.pin}\n        </div>`\n              : \"\"\n        }\n\n    </div>\n</div>\n\n`;\n    })\n    .join(\"\");\n}\n","import { state } from \"../state/state\";\nexport function saveToStorage() {\n  const { bookmarks, theme } = state;\n  localStorage.setItem(\"bookmarkApp\", JSON.stringify({ bookmarks, theme }));\n}\n\nexport function loadFromStorage() {\n  const data = localStorage.getItem(\"bookmarkApp\");\n  return data ? JSON.parse(data) : null;\n}\n","import { renderBookmarkItem } from \"../components/bookmark\";\nimport { renderSidebar } from \"../components/sidebar\";\nimport { saveToStorage } from \"../services/storage\";\nexport function refreshUI() {\n  document.querySelector(\".cards__container\").innerHTML = renderBookmarkItem();\n  document.querySelector(\".sidebar\").outerHTML = renderSidebar();\n  saveToStorage();\n}\n","import { fetchData } from \"../api/api\";\nimport { createBookmark } from \"./bookmarkFactory\";\nimport { refreshUI } from \"../ui/refreshUI\";\nimport { loadFromStorage, saveToStorage } from \"../services/storage\";\n\nexport const state = {\n  theme: \"light\",\n  isMobileSidebarOpen: false,\n  currentUser: {\n    name: \"\",\n    email: \"\",\n    avatar: \"\",\n  },\n  selectedTags: [],\n  selectedSort: \"recently-added\",\n  searchQuery: \"\",\n  activeView: \"main\",\n  bookmarks: [],\n  editingBookmarkId: null,\n  archivingBookmarkId: null,\n  deletingBookmarkId: null,\n  unarchivingBookmarkId: null,\n};\n\nexport function getTagCounts() {\n  let tagCounts = {};\n\n  state.bookmarks.forEach((bookmark) => {\n    bookmark.tags.forEach((tag) => {\n      if (tagCounts[tag]) {\n        tagCounts[tag]++;\n      } else {\n        tagCounts[tag] = 1;\n      }\n    });\n  });\n\n  return tagCounts;\n}\nexport async function initState() {\n  const storageData = loadFromStorage();\n\n  if (storageData) {\n    state.bookmarks = storageData.bookmarks;\n    state.theme = storageData.theme;\n  } else {\n    const data = await fetchData();\n    state.bookmarks = data.bookmarks;\n  }\n}\n\nexport function getSortedBookmarks() {\n  const baseBookmarks =\n    state.activeView === \"archive\"\n      ? state.bookmarks.filter((b) => b.isArchived)\n      : state.bookmarks.filter((b) => !b.isArchived);\n\n  const searchedBookmark = state.searchQuery\n    ? baseBookmarks.filter((bookmark) =>\n        bookmark.title.toLowerCase().includes(state.searchQuery.toLocaleLowerCase()),\n      )\n    : [...baseBookmarks];\n\n  const filteredBookmarks =\n    state.selectedTags.length === 0\n      ? [...searchedBookmark]\n      : [...searchedBookmark].filter((bookmark) =>\n          bookmark.tags.some((tag) => state.selectedTags.includes(tag)),\n        );\n\n  const sortedBookmarks = filteredBookmarks.sort((a, b) => {\n    if (a.pinned !== b.pinned) return a.pinned ? -1 : 1;\n\n    switch (state.selectedSort) {\n      case \"recently-added\":\n        return new Date(b.createdAt) - new Date(a.createdAt);\n\n      case \"recently-visited\":\n        return new Date(b.lastVisited) - new Date(a.lastVisited);\n\n      case \"most-visited\":\n        return b.visitCount - a.visitCount;\n    }\n  });\n\n  return sortedBookmarks;\n}\n\nexport function formatDates(date) {\n  const dateObj = new Date(date);\n  const formatter = new Intl.DateTimeFormat(\"en-GB\", {\n    day: \"2-digit\",\n    month: \"short\",\n    year: \"numeric\",\n  });\n  const formattedDate = formatter.format(dateObj);\n  return formattedDate;\n}\n\nexport function deleteBookmark(id) {\n  state.bookmarks = state.bookmarks.filter((bookmark) => bookmark.id !== id);\n  refreshUI();\n}\n","import { state, getTagCounts } from \"../state/state\";\nimport { icons } from \"../icons\";\nimport { withBase } from \"../services/path\";\n\nexport function renderSidebar() {\n  const isHomeActive = state.activeView === \"main\";\n  const isArchivedActive = state.activeView === \"archive\";\n\n  return /*html*/ `\n<div id=\"sidebar-panel\" class=\"sidebar${state.isMobileSidebarOpen ? \" open\" : \"\"}\" aria-hidden=\"${String(!state.isMobileSidebarOpen)}\"${!state.isMobileSidebarOpen ? \" inert\" : \"\"}>\n    <div class=\"sidebar__header\">\n        <img class=\"sidebar__logo sidebar__logo--light\" src=\"${withBase(\"assets/images/logo-light-theme.svg\")}\" alt=\"Bookmark Manager\" />\n        <img class=\"sidebar__logo sidebar__logo--dark\" src=\"${withBase(\"assets/images/logo-dark-theme.svg\")}\" alt=\"Bookmark Manager\" />\n        <button class=\"sidebar-closeBtn\" type=\"button\" data-action=\"close-sidebar\">\n            ${icons.close}\n        </button>\n    </div>\n    <section class=\"sidebar__content\">\n        <div class=\"sidebar__navigation text-3\">\n            <button class=\"sidebar__homeBtn${isHomeActive ? \" is-active\" : \"\"}\" type=\"button\" data-action=\"navigate-home\" ${isHomeActive ? 'aria-current=\"page\"' : \"\"}>\n                ${icons.home}\n                <span>Home</span>\n            </button>\n            <button class=\"sidebar__archivedBtn${isArchivedActive ? \" is-active\" : \"\"}\" type=\"button\" data-action=\"navigate-archived\" ${isArchivedActive ? 'aria-current=\"page\"' : \"\"}>\n                ${icons.archived}<span>Archived</span>\n            </button>\n        </div>\n        <div class=\"sidebar_tag text-5\">\n            <div class=\"sidebar__tag-subheading text-5\">TAGS</div>\n            <button class=\"reset-btn\" type=\"button\" data-action=\"reset-tag\">Reset</button>\n        </div>\n        <ul class=\"sidebar__tagList text-3\">\n            ${createTags()}\n        </ul>\n    </section>\n</div>\n`;\n}\n\nexport function createTags() {\n  const tagCounts = getTagCounts();\n  return Object.entries(tagCounts)\n    .map(([key, value]) => {\n      const isSelected = state.selectedTags.includes(key);\n      return /* html */ `\n<li class=\"sidebar__tagItem ${isSelected ? \" is-selected\" : \"\"}\" role=\"checkbox\" data-action=\"filter-tag\" aria-checked=\"${isSelected ? \" true\" : \"false\"}\" data-tag=\"${key}\">\n    <div class=\"sidebar__container\">\n        <div class=\"sidebar__icon\"></div>\n        <p class=\"sidebar__text\">${key}</p>\n    </div>\n    <div class=\"sidebar__badge text-5\">${value}</div>\n</li>\n`;\n    })\n    .join(\"\");\n}\n\nexport function filterTags() {\n  const tags = state.selectedTags; //array of the selected tags\n}\n\nexport function addSelectedTag(tag) {}\n","export function getFavicon(urlString) {\n  const url = new URL(urlString);\n\n  return `https://www.google.com/s2/favicons?domain=${url.hostname}&sz=64`;\n}\n","import { state } from \"../state/state\";\nimport { createBookmark } from \"../state/bookmarkFactory\";\nimport { refreshUI } from \"../ui/refreshUI\";\nimport { getFavicon } from \"../services/favicon\";\n\nexport function validateForm() {\n  const title = document.querySelector(\".addbookmark__input\");\n  const description = document.querySelector(\".addbookmark__textarea\");\n  const url = document.getElementById(\"addbookmark-url-input\");\n  const tags = document.getElementById(\"addbookmark-tags-input\");\n\n  let isValid = true;\n\n  if (!title || !description || !url || !tags) return;\n\n  const fields = [\n    { input: title, validate: (val) => val.trim() !== \"\" },\n    { input: description, validate: (val) => val.trim() !== \"\" },\n    {\n      input: url,\n      validate: (val) => {\n        try {\n          new URL(val);\n          return true; // if we get here, URL is valid\n        } catch {\n          return false; // URL threw an error = invalid\n        }\n      },\n    },\n    { input: tags, validate: (val) => val.trim() !== \"\" },\n  ];\n\n  fields.forEach(({ input, validate }) => {\n    if (!validate(input.value)) {\n      setError(input);\n      isValid = false;\n    } else {\n      clearError(input);\n    }\n  });\n  return isValid;\n}\n\nexport function addNewBookMark() {\n  const title = document.querySelector(\".addbookmark__input\");\n  const description = document.querySelector(\".addbookmark__textarea\");\n  const url = document.getElementById(\"addbookmark-url-input\");\n  const tags = document.getElementById(\"addbookmark-tags-input\");\n\n  const isValid = validateForm();\n  if (!isValid) return;\n\n  const newbookmark = createBookmark({\n    title: title.value,\n    description: description.value,\n    url: url.value,\n    tags: tags.value\n      .split(\",\")\n      .map((tag) => tag.trim())\n      .filter((tag) => tag !== \"\"),\n    favicon: getFavicon(url.value),\n  });\n\n  const toUpdateBookmark = state.bookmarks.find(\n    (bookmark) => bookmark.id === state.editingBookmarkId,\n  );\n\n  if (toUpdateBookmark) {\n    toUpdateBookmark.title = title.value;\n    toUpdateBookmark.description = description.value;\n    toUpdateBookmark.url = url.value;\n    toUpdateBookmark.tags = tags.value\n      .split(\",\")\n      .map((tag) => tag.trim())\n      .filter((tag) => tag !== \"\");\n    toUpdateBookmark.favicon = getFavicon(url.value);\n  } else {\n    state.bookmarks.push(newbookmark);\n  }\n\n  refreshUI();\n  clearForm();\n}\nexport function clearForm() {\n  const title = document.querySelector(\".addbookmark__input\");\n  const description = document.querySelector(\".addbookmark__textarea\");\n  const url = document.getElementById(\"addbookmark-url-input\");\n  const tags = document.getElementById(\"addbookmark-tags-input\");\n  title.value = \"\";\n  description.value = \"\";\n  url.value = \"\";\n  tags.value = \"\";\n  state.editingBookmarkId = null;\n  document\n    .querySelectorAll(\".addbookmark__field\")\n    .forEach((field) => field.classList.remove(\"error\"));\n}\nfunction setError(input) {\n  const field = input.closest(\".addbookmark__field\");\n  field.classList.add(\"error\");\n}\n\nfunction clearError(input) {\n  const field = input.closest(\".addbookmark__field\");\n  field.classList.remove(\"error\");\n}\n","import { icons } from \"../icons\";\nimport { renderBookmarkItem } from \"./bookmark\";\nimport { renderSidebar } from \"./sidebar\";\nimport { clearForm } from \"../validation/validation\";\nimport { withBase } from \"../services/path\";\n\nexport function renderModal() {\n  return /* html */ `\n    <div class=\"modal-root\" id=\"modal-root\" >\n        <section class=\"addbookmark\" data-state=\"closed\" aria-hidden=\"true\">\n          <button\n            class=\"addbookmark__backdrop\"\n            type=\"button\"\n            data-action=\"close-addbookmark\"\n            aria-label=\"Close add bookmark dialog\"\n          ></button>\n\n          <div\n            class=\"addbookmark__dialog\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"addbookmark-title\"\n            aria-describedby=\"addbookmark-description\"\n          >\n            <div class=\"addbookmark__header\">\n              <div class=\"addbookmark__heading\">\n                <h2 class=\"addbookmark__title\" id=\"addbookmark-title\">Add Bookmark</h2>\n                <p class=\"addbookmark__intro\" id=\"addbookmark-description\">\n                  Update your saved link details - change the title, description, URL, or\n                  tags anytime.\n                </p>\n              </div>\n\n              <button\n                class=\"addbookmark__closeBtn\"\n                type=\"button\"\n                data-action=\"close-addbookmark\"\n                aria-label=\"Close dialog\"\n              >\n                ${icons.modalClose}\n              </button>\n            </div>\n\n            <form class=\"addbookmark__form\" novalidate>\n              <div class=\"addbookmark__field\">\n                <div class=\"addbookmark__labelrow\">\n                  <label class=\"addbookmark__label\" for=\"addbookmark-title-input\">\n                    Title <span aria-hidden=\"true\">*</span>\n                  </label>\n                  <span class=\"addbookmark__error\" aria-live=\"polite\">Please enter a valid title</span>\n                </div>\n                <div class=\"addbookmark__control\">\n                  <input\n                    class=\"addbookmark__input\"\n                    id=\"addbookmark-title-input\"\n                    name=\"title\"\n                    type=\"text\"\n                    placeholder=\"e.g. Frontend Mentor\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div class=\"addbookmark__field\">\n                <div class=\"addbookmark__labelrow\">\n                  <label class=\"addbookmark__label\" for=\"addbookmark-description-input\">\n                    Description <span aria-hidden=\"true\">*</span>\n                  </label>\n                  <span class=\"addbookmark__error\" aria-live=\"polite\">Please enter a valid description</span>\n                </div>\n                <div class=\"addbookmark__control addbookmark__control--textarea\">\n                  <textarea\n                    class=\"addbookmark__textarea\"\n                    id=\"addbookmark-description-input\"\n                    name=\"description\"\n                    rows=\"4\"\n                    maxlength=\"280\"\n                    placeholder=\"e.g. A platform for improving front-end skills by building real projects.\"\n                    aria-describedby=\"addbookmark-description-count\"\n                    required\n                  ></textarea\n                  >\n                </div>\n                <div class=\"addbookmark__meta\">\n                  <span class=\"addbookmark__counter\" id=\"addbookmark-description-count\"\n                    >0/280</span\n                  >\n                </div>\n              </div>\n\n              <div class=\"addbookmark__field\">\n                <div class=\"addbookmark__labelrow\">\n                  <label class=\"addbookmark__label\" for=\"addbookmark-url-input\">\n                    Website URL <span aria-hidden=\"true\">*</span>\n                  </label>\n                  <span class=\"addbookmark__error\" aria-live=\"polite\">Please enter a valid URL</span>\n                </div>\n                <div class=\"addbookmark__control\">\n                  <input\n                    class=\"addbookmark__input\"\n                    id=\"addbookmark-url-input\"\n                    name=\"url\"\n                    type=\"url\"\n                    placeholder=\"e.g. https://www.example.com\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div class=\"addbookmark__field\">\n                <div class=\"addbookmark__labelrow\">\n                  <label class=\"addbookmark__label\" for=\"addbookmark-tags-input\">\n                    Tags <span aria-hidden=\"true\">*</span>\n                  </label>\n                  <span class=\"addbookmark__error\" aria-live=\"polite\">Please enter valid tags</span>\n                </div>\n                <div class=\"addbookmark__control\">\n                  <input\n                    class=\"addbookmark__input\"\n                    id=\"addbookmark-tags-input\"\n                    name=\"tags\"\n                    type=\"text\"\n                    placeholder=\"e.g. Design, CSS, Tools\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div class=\"addbookmark__actions\">\n                <button\n                  class=\"addbookmark__btn addbookmark__btn--ghost\"\n                  type=\"button\"\n                  data-action=\"cancel-addbookmark\"\n                >\n                  Cancel\n                </button>\n                <button\n                  class=\"addbookmark__btn addbookmark__btn--primary\"\n                  type=\"submit\"\n                  data-action=\"save-addbookmark\"\n                >\n                  Add Bookmark\n                </button>\n              </div>\n            </form>\n          </div>\n        </section>\n\n        <section\n          class=\"authmodal authmodal--signup\"\n          data-state=\"closed\"\n          aria-hidden=\"true\"\n        >\n          <button\n            class=\"authmodal__backdrop\"\n            type=\"button\"\n            data-action=\"close-authmodal\"\n            aria-label=\"Close authentication dialog\"\n          ></button>\n\n          <div\n            class=\"authmodal__dialog\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"authmodal-title\"\n            aria-describedby=\"authmodal-description\"\n          >\n            <div class=\"authmodal__brand\">\n              <img\n                class=\"authmodal__logo authmodal__logo--light\"\n                src=\"${withBase(\"assets/images/logo-light-theme.svg\")}\"\n                alt=\"Bookmark Manager\"\n              />\n              <img\n                class=\"authmodal__logo authmodal__logo--dark\"\n                src=\"${withBase(\"assets/images/logo-dark-theme.svg\")}\"\n                alt=\"Bookmark Manager\"\n              />\n            </div>\n\n            <div class=\"authmodal__header\">\n              <h2 class=\"authmodal__title\" id=\"authmodal-title\">Create your account</h2>\n              <p class=\"authmodal__intro\" id=\"authmodal-description\">\n                Join us and start saving your favorite links - organized, searchable, and\n                always within reach.\n              </p>\n            </div>\n\n            <form class=\"authmodal__form\" novalidate>\n              <div class=\"authmodal__field\">\n                <label class=\"authmodal__label\" for=\"auth-fullname\">\n                  Full name <span aria-hidden=\"true\">*</span>\n                </label>\n                <div class=\"authmodal__control\">\n                  <input\n                    class=\"authmodal__input\"\n                    id=\"auth-fullname\"\n                    name=\"fullName\"\n                    type=\"text\"\n                    placeholder=\"Sarah Parker\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div class=\"authmodal__field\">\n                <label class=\"authmodal__label\" for=\"auth-email\">\n                  Email address <span aria-hidden=\"true\">*</span>\n                </label>\n                <div class=\"authmodal__control\">\n                  <input\n                    class=\"authmodal__input\"\n                    id=\"auth-email\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"sarah@example.com\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div class=\"authmodal__field\">\n                <label class=\"authmodal__label\" for=\"auth-password\">\n                  Password <span aria-hidden=\"true\">*</span>\n                </label>\n                <div class=\"authmodal__control authmodal__control--password\">\n                  <input\n                    class=\"authmodal__input\"\n                    id=\"auth-password\"\n                    name=\"password\"\n                    type=\"password\"\n                    placeholder=\"Enter your password\"\n                    required\n                  />\n                  <button\n                    class=\"authmodal__toggle\"\n                    type=\"button\"\n                    data-action=\"toggle-password\"\n                    aria-label=\"Show password\"\n                  >\n                    Show\n                  </button>\n                </div>\n              </div>\n\n              <div class=\"authmodal__actions\">\n                <button\n                  class=\"authmodal__btn authmodal__btn--primary\"\n                  type=\"submit\"\n                  data-action=\"submit-auth\"\n                >\n                  Create account\n                </button>\n              </div>\n            </form>\n\n            <div class=\"authmodal__footer\">\n              <p class=\"authmodal__footerText\">\n                Already have an account?\n                <button\n                  class=\"authmodal__linkBtn\"\n                  type=\"button\"\n                  data-action=\"switch-auth-login\"\n                >\n                  Log in\n                </button>\n              </p>\n              <p class=\"authmodal__footerText authmodal__footerText--secondary\">\n                <button\n                  class=\"authmodal__linkBtn authmodal__linkBtn--ghost\"\n                  type=\"button\"\n                  data-action=\"reset-password\"\n                >\n                  Forgot password? Reset it\n                </button>\n              </p>\n            </div>\n          </div>\n        </section>\n\n        <section\n          class=\"bookmarkconfirm bookmarkconfirm--archive\"\n          data-state=\"closed\"\n          aria-hidden=\"true\"\n        >\n          <button\n            class=\"bookmarkconfirm__backdrop\"\n            type=\"button\"\n            data-action=\"close-archive-confirm\"\n            aria-label=\"Close archive confirmation dialog\"\n          ></button>\n\n          <div\n            class=\"bookmarkconfirm__dialog\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"archive-confirm-title\"\n            aria-describedby=\"archive-confirm-description\"\n          >\n            <button\n              class=\"bookmarkconfirm__closeBtn\"\n              type=\"button\"\n              data-action=\"close-archive-confirm\"\n              aria-label=\"Close dialog\"\n            >\n              ${icons.modalClose}\n            </button>\n\n            <h2 class=\"bookmarkconfirm__title\" id=\"archive-confirm-title\">\n              Archive bookmark\n            </h2>\n            <p class=\"bookmarkconfirm__description\" id=\"archive-confirm-description\">\n              Are you sure you want to archive this bookmark?\n            </p>\n\n            <div class=\"bookmarkconfirm__actions\">\n              <button\n                class=\"bookmarkconfirm__btn bookmarkconfirm__btn--ghost\"\n                type=\"button\"\n                data-action=\"cancel-archive-confirm\"\n              >\n                Cancel\n              </button>\n              <button\n                class=\"bookmarkconfirm__btn bookmarkconfirm__btn--primary\"\n                type=\"button\"\n                data-action=\"archive-bookmark\"\n              >\n                Archive\n              </button>\n            </div>\n          </div>\n        </section>\n\n        <section\n          class=\"bookmarkconfirm bookmarkconfirm--unarchive\"\n          data-state=\"closed\"\n          aria-hidden=\"true\"\n        >\n          <button\n            class=\"bookmarkconfirm__backdrop\"\n            type=\"button\"\n            data-action=\"close-unarchive-confirm\"\n            aria-label=\"Close unarchive confirmation dialog\"\n          ></button>\n\n          <div\n            class=\"bookmarkconfirm__dialog\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"unarchive-confirm-title\"\n            aria-describedby=\"unarchive-confirm-description\"\n          >\n            <button\n              class=\"bookmarkconfirm__closeBtn\"\n              type=\"button\"\n              data-action=\"close-unarchive-confirm\"\n              aria-label=\"Close dialog\"\n            >\n              ${icons.modalClose}\n            </button>\n\n            <h2 class=\"bookmarkconfirm__title\" id=\"unarchive-confirm-title\">\n              Unarchive bookmark\n            </h2>\n            <p class=\"bookmarkconfirm__description\" id=\"unarchive-confirm-description\">\n              Move this bookmark back to your active list?\n            </p>\n\n            <div class=\"bookmarkconfirm__actions\">\n              <button\n                class=\"bookmarkconfirm__btn bookmarkconfirm__btn--ghost\"\n                type=\"button\"\n                data-action=\"cancel-unarchive-confirm\"\n              >\n                Cancel\n              </button>\n              <button\n                class=\"bookmarkconfirm__btn bookmarkconfirm__btn--primary\"\n                type=\"button\"\n                data-action=\"unarchive-bookmark\"\n              >\n                Unarchive\n              </button>\n            </div>\n          </div>\n        </section>\n\n        <section\n          class=\"bookmarkconfirm bookmarkconfirm--delete\"\n          data-state=\"closed\"\n          aria-hidden=\"true\"\n        >\n          <button\n            class=\"bookmarkconfirm__backdrop\"\n            type=\"button\"\n            data-action=\"close-delete-confirm\"\n            aria-label=\"Close delete confirmation dialog\"\n          ></button>\n\n          <div\n            class=\"bookmarkconfirm__dialog\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"delete-confirm-title\"\n            aria-describedby=\"delete-confirm-description\"\n          >\n            <button\n              class=\"bookmarkconfirm__closeBtn\"\n              type=\"button\"\n              data-action=\"close-delete-confirm\"\n              aria-label=\"Close dialog\"\n            >\n              ${icons.modalClose}\n            </button>\n\n            <h2 class=\"bookmarkconfirm__title\" id=\"delete-confirm-title\">\n              Delete bookmark\n            </h2>\n            <p class=\"bookmarkconfirm__description\" id=\"delete-confirm-description\">\n              Are you sure you want to delete this bookmark?\n            </p>\n\n            <div class=\"bookmarkconfirm__actions\">\n              <button\n                class=\"bookmarkconfirm__btn bookmarkconfirm__btn--ghost\"\n                type=\"button\"\n                data-action=\"cancel-delete-confirm\"\n              >\n                Cancel\n              </button>\n              <button\n                class=\"bookmarkconfirm__btn bookmarkconfirm__btn--danger\"\n                type=\"button\"\n                data-action=\"delete-bookmark\"\n              >\n                Delete Permanently\n              </button>\n            </div>\n          </div>\n        </section>\n    `;\n}\n\nexport function toggleModal(selector, isOpen) {\n  const modal = document.querySelector(selector);\n  if (!modal) return;\n\n  if (!isOpen) {\n    const focused = modal.querySelector(\":focus\");\n    if (focused) focused.blur();\n  }\n\n  modal.setAttribute(\"data-state\", isOpen ? \"open\" : \"closed\");\n  modal.setAttribute(\"aria-hidden\", String(!isOpen));\n\n  if (isOpen) {\n    modal.removeAttribute(\"inert\");\n  } else {\n    modal.setAttribute(\"inert\", \"\");\n  }\n}\n","import { icons } from \"../icons\";\nimport { state } from \"../state/state\";\nimport { withBase } from \"../services/path\";\n\nexport function renderHeader() {\n  const lightActive = state.theme === \"light\" ? \"is-active\" : \"\";\n  const darkActive = state.theme === \"dark\" ? \"is-active\" : \"\";\n  const isLightPressed = state.theme === \"light\";\n  const isDarkPressed = state.theme === \"dark\";\n\n  return /* html */ `\n <header class=\"header\" id=\"header\">\n          <div class=\"header__container\">\n            <div class=\"header__btn\">\n              <button\n                class=\"header__menuBtn\"\n                type=\"button\"\n                data-action=\"toggle-sidebar\"\n                aria-expanded=\"false\"\n                aria-controls=\"sidebar-panel\"\n              >\n                ${icons.menu}\n              </button>\n            </div>\n            <form class=\"header__form\" role=\"search\" aria-label=\"Search bookmarks\">\n              ${icons.search}\n              <input\n                type=\"text\"\n                required\n                id=\"header__input\"\n                class=\"header__input\"\n                name=\"query\"\n                placeholder=\"Search by title...\"\n                aria-label=\"Search bookmarks\"\n              />\n            </form>\n          </div>\n\n          <div class=\"header__btnGroup\">\n            <button class=\"header__addBtn text-3\" type=\"button\" data-action=\"addbookmark\">\n              ${icons.add}\n              <span class=\"header__addBookmark-text\">Add Bookmark</span>\n            </button>\n\n            <div class=\"accountmenu\" data-state=\"closed\">\n              <button\n                class=\"header__userNameBtn accountmenu__trigger\"\n                type=\"button\"\n                data-action=\"toggle-accountmenu\"\n                aria-expanded=\"false\"\n                aria-controls=\"accountmenu-panel\"\n              >\n                <img src=\"${withBase(\"assets/images/image-avatar.webp\")}\" alt=\"Emily Carter profile\" />\n              </button>\n\n              <div\n                class=\"accountmenu__panel\"\n                id=\"accountmenu-panel\"\n                aria-label=\"Account menu\"\n              >\n                <div class=\"accountmenu__profile\">\n                  <div class=\"accountmenu__avatar\">\n                    <img src=\"${withBase(\"assets/images/image-avatar.webp\")}\" alt=\"\" />\n                  </div>\n\n                  <div class=\"accountmenu__profileText\">\n                    <p class=\"accountmenu__name text-4\">Emily Carter</p>\n                    <p class=\"accountmenu__email text-4\">emily101@email.com</p>\n                  </div>\n                </div>\n\n                <div class=\"accountmenu__section\">\n                  <div class=\"accountmenu__row\">\n                    <div class=\"accountmenu__rowLabel\">\n                      ${icons.palette}\n                      <span class=\"text-4\">Theme</span>\n                    </div>\n\n                    <div class=\"accountmenu__themeToggle\" role=\"group\" aria-label=\"Theme\">\n                      <button\n                        class=\"accountmenu__themeBtn ${lightActive}\"\n                        type=\"button\"\n                        data-action=\"set-theme-light\"\n                        aria-pressed=\"${isLightPressed}\"\n                      >\n                        ${icons.sun}\n                      </button>\n\n                      <button\n                        class=\"accountmenu__themeBtn ${darkActive}\"\n                        type=\"button\"\n                        data-action=\"set-theme-dark\"\n                        aria-pressed=\"${isDarkPressed}\"\n                      >\n                        ${icons.moon}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"accountmenu__section\">\n                  <button class=\"accountmenu__menuBtn\" type=\"button\" data-action=\"logout\">\n                    <span class=\"accountmenu__rowLabel\">\n                      ${icons.logout}\n                      <span class=\"text-4\">Logout</span>\n                    </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </header>\n    `;\n}\n","import { renderBookmarks } from \"./bookmark\";\nimport { renderModal } from \"./modal\";\nimport { renderHeader } from \"./header\";\nimport { renderSidebar } from \"./sidebar\";\n\nexport function renderApp() {\n  const app = document.getElementById(\"app\");\n\n  const html = `\n\n${renderSidebar()}\n  <main>${renderHeader()}\n  ${renderBookmarks()}\n  ${renderModal()}\n  </main>\n  `;\n\n  app.innerHTML = html;\n}\n","import { state } from \"../state/state\";\n\nexport function setTheme() {\n  const theme = state.theme;\n  const root = document.documentElement;\n\n  if (theme === \"light\") {\n    root.setAttribute(\"data-theme\", \"light\");\n  } else {\n    root.setAttribute(\"data-theme\", \"dark\");\n  }\n\n  syncThemeButtons(theme);\n}\n\nexport function syncThemeButtons(theme) {\n  const lightBtn = document.querySelector('[data-action=\"set-theme-light\"]');\n  const darkBtn = document.querySelector('[data-action=\"set-theme-dark\"]');\n\n  if (!lightBtn || !darkBtn) return;\n\n  const isLight = theme === \"light\";\n\n  lightBtn.classList.toggle(\"is-active\", isLight);\n  lightBtn.setAttribute(\"aria-pressed\", String(isLight));\n\n  darkBtn.classList.toggle(\"is-active\", !isLight);\n  darkBtn.setAttribute(\"aria-pressed\", String(!isLight));\n}\n\nexport function setAccountMenuOpen() {\n  const accountmenu = document.querySelector(\".accountmenu__panel\");\n  const accountMenuBtn = document.querySelector(\"[data-action='toggle-accountmenu']\");\n\n  if (!accountmenu) return;\n  accountMenuBtn.classList.toggle(\"active\");\n  accountmenu.classList.toggle(\"open\");\n}\n","import { getSortedBookmarks, state } from \"../js/state/state\";\nimport { renderApp } from \"../js/components/app\";\nimport { syncThemeButtons, setTheme, setAccountMenuOpen } from \"../js/ui/theme\";\nimport { toggleModal } from \"../js/components/modal\";\nimport { renderBookmarkItem } from \"../js/components/bookmark\";\n\nimport { validateForm, addNewBookMark } from \"../js/validation/validation\";\nimport { refreshUI } from \"../js/ui/refreshUI\";\nimport { icons } from \"../js/icons\";\nimport { clearForm } from \"../js/validation/validation\";\nimport { deleteBookmark } from \"../js/state/state\";\n\nfunction setSidebarOpen(isOpen) {\n  state.isMobileSidebarOpen = isOpen;\n\n  const sidebar = document.querySelector(\".sidebar\");\n  if (sidebar) {\n    if (!isOpen) {\n      const focused = sidebar.querySelector(\":focus\");\n      if (focused) focused.blur();\n    }\n\n    sidebar.classList.toggle(\"open\", isOpen);\n    sidebar.setAttribute(\"aria-hidden\", String(!isOpen));\n\n    if (isOpen) {\n      sidebar.removeAttribute(\"inert\");\n    } else {\n      sidebar.setAttribute(\"inert\", \"\");\n    }\n  } else {\n    // Fallback if handlers fire before initial render (shouldn't happen, but safe).\n    renderApp();\n  }\n\n  const menuBtn = document.querySelector('[data-action=\"toggle-sidebar\"]');\n  if (menuBtn) {\n    menuBtn.setAttribute(\"aria-expanded\", String(isOpen));\n  }\n}\n\nexport function initHandlers() {\n  document.addEventListener(\"click\", (e) => {\n    const action = e.target.closest(\"[data-action]\")?.dataset.action;\n    const clickedBtn = e.target.closest(\"[data-action]\");\n    closeAllOutsideClick(e);\n    if (!action) return;\n\n    if (action === \"toggle-sidebar\") {\n      setSidebarOpen(true);\n    }\n\n    if (action === \"close-sidebar\") {\n      setSidebarOpen(false);\n    }\n\n    if (action === \"toggle-accountmenu\") {\n      setAccountMenuOpen();\n    }\n\n    if (action === \"set-theme-light\") {\n      state.theme = \"light\";\n      setTheme();\n    }\n\n    if (action === \"set-theme-dark\") {\n      state.theme = \"dark\";\n      setTheme();\n    }\n\n    if (action === \"addbookmark\") {\n      toggleModal(\".addbookmark\", true);\n    }\n\n    if (action === \"close-addbookmark\") {\n      toggleModal(\".addbookmark\", false);\n      clearForm();\n    }\n\n    if (action === \"cancel-addbookmark\") {\n      toggleModal(\".addbookmark\", false);\n      clearForm();\n    }\n\n    if (action === \"sort\") {\n      toggleSortMenu();\n    }\n\n    if (action === \"toggle-cardmenu\") {\n      const cardMenu = clickedBtn.closest(\".cardmenu\").querySelector(\".cardmenu__panel\");\n      cardMenu.classList.toggle(\"open\");\n    }\n\n    if (action === \"set-sort\") {\n      const sortBtns = document.querySelectorAll(\"[data-action='set-sort']\");\n      sortBtns.forEach((btn) => {\n        btn.classList.remove(\"is-active\");\n      });\n      clickedBtn.classList.add(\"is-active\");\n      const value = clickedBtn.dataset.sortValue;\n      state.selectedSort = value;\n      const cardsContainer = document.querySelector(\".cards__container\");\n      cardsContainer.innerHTML = renderBookmarkItem();\n    }\n\n    if (action === \"save-addbookmark\") {\n      toggleModal(\".addbookmark\", false);\n      addNewBookMark();\n    }\n\n    if (action === \"filter-tag\") {\n      const tag = clickedBtn.dataset.tag;\n\n      if (state.selectedTags.includes(tag)) {\n        state.selectedTags = state.selectedTags.filter((t) => t !== tag);\n      } else {\n        state.selectedTags.push(tag);\n      }\n\n      refreshUI();\n    }\n\n    if (action === \"visit-bookmark\") {\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      const selectedBookmark = state.bookmarks.find((bookmark) => bookmark.id === id);\n      selectedBookmark.visitCount++;\n      selectedBookmark.lastVisited = Date.now();\n      const url = selectedBookmark.url;\n      window.open(url, \"_blank\");\n      refreshUI();\n    }\n\n    if (action === \"copy-bookmark-url\") {\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      const selectedBookmark = state.bookmarks.find((bookmark) => bookmark.id === id);\n      if (!selectedBookmark) return;\n      const url = selectedBookmark.url;\n      navigator.clipboard.writeText(url).then(() => {\n        clickedBtn.querySelector(\"span\").textContent = \"Copied\";\n        setTimeout(() => {\n          clickedBtn.querySelector(\"span\").textContent = \"Copy URL\";\n        }, 2000);\n      });\n    }\n\n    if (action === \"toggle-pin-bookmark\") {\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      const selectedBookmark = state.bookmarks.find((bookmark) => bookmark.id === id);\n\n      selectedBookmark.pinned = !selectedBookmark.pinned;\n      refreshUI();\n    }\n\n    if (action === \"edit-bookmark\") {\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      const selectedBookmark = state.bookmarks.find((bookmark) => bookmark.id === id);\n      toggleModal(\".addbookmark\", true);\n      const title = document.querySelector(\".addbookmark__input\");\n      const description = document.querySelector(\".addbookmark__textarea\");\n      const url = document.getElementById(\"addbookmark-url-input\");\n      const tags = document.getElementById(\"addbookmark-tags-input\");\n\n      title.value = selectedBookmark.title;\n      description.value = selectedBookmark.description;\n      url.value = selectedBookmark.url;\n      tags.value = selectedBookmark.tags;\n      state.editingBookmarkId = id;\n      document\n        .querySelectorAll(\".addbookmark__field\")\n        .forEach((field) => field.classList.remove(\"error\"));\n    }\n\n    if (action === \"open-archive-confirm\") {\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      state.archivingBookmarkId = id;\n      toggleModal(\".bookmarkconfirm--archive\", true);\n    }\n\n    if (action === \"close-archive-confirm\") {\n      toggleModal(\".bookmarkconfirm--archive\", false);\n    }\n\n    if (action === \"cancel-archive-confirm\") {\n      toggleModal(\".bookmarkconfirm--archive\", false);\n    }\n\n    if (action === \"archive-bookmark\") {\n      const selectedBookmark = state.bookmarks.find(\n        (bookmark) => bookmark.id === state.archivingBookmarkId,\n      );\n\n      selectedBookmark.isArchived = true;\n      toggleModal(\".bookmarkconfirm--archive\", false);\n      refreshUI();\n      state.archivingBookmarkId = null;\n    }\n\n    if (action === \"navigate-home\") {\n      state.activeView = \"main\";\n      setSidebarOpen(false);\n      refreshUI();\n    }\n\n    if (action === \"navigate-archived\") {\n      state.activeView = \"archive\";\n      setSidebarOpen(false);\n      refreshUI();\n    }\n\n    if (action === \"close-delete-confirm\") {\n      toggleModal(\".bookmarkconfirm--delete\", false);\n    }\n\n    if (action === \"cancel-delete-confirm\") {\n      toggleModal(\".bookmarkconfirm--delete\", false);\n    }\n\n    if (action === \"delete-modal-open\") {\n      toggleModal(\".bookmarkconfirm--delete\", true);\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      state.deletingBookmarkId = id;\n    }\n\n    if (action === \"delete-bookmark\") {\n      const id = state.deletingBookmarkId;\n      deleteBookmark(id);\n      toggleModal(\".bookmarkconfirm--delete\", false);\n    }\n\n    if (action === \"open-unarchive-confirm\") {\n      toggleModal(\".bookmarkconfirm--unarchive\", true);\n      const id = clickedBtn.closest(\"[data-bookmark-id]\").dataset.bookmarkId;\n      state.unarchivingBookmarkId = id;\n    }\n\n    if (action === \"unarchive-bookmark\") {\n      const id = state.unarchivingBookmarkId;\n      const selectedBookmark = state.bookmarks.find((bookmark) => bookmark.id === id);\n      selectedBookmark.isArchived = false;\n      refreshUI();\n      toggleModal(\".bookmarkconfirm--unarchive\", false);\n    }\n\n    if (action === \"cancel-unarchive-confirm\") {\n      toggleModal(\".bookmarkconfirm--unarchive\", false);\n    }\n\n    if (action === \"close-unarchive-confirm\") {\n      toggleModal(\".bookmarkconfirm--unarchive\", false);\n    }\n  });\n\n  document.addEventListener(\"submit\", (e) => {\n    const form = e.target;\n    if (!(form instanceof HTMLFormElement)) return;\n\n    if (form.matches(\".addbookmark__form\")) {\n      e.preventDefault();\n      addNewBookMark();\n    }\n\n    if (form.matches(\".authmodal__form\")) {\n      e.preventDefault();\n    }\n  });\n\n  document.addEventListener(\"input\", (e) => {\n    state.searchQuery = document.getElementById(\"header__input\").value;\n\n    refreshUI();\n  });\n}\n\nfunction toggleSortMenu() {\n  const sortMenu = document.querySelector(\".sortmenu__panel\");\n  sortMenu.classList.toggle(\"open\");\n}\n\nfunction closeIfOutside(e, selector) {}\n\nconst OUTSIDE_CLICK_TARGETS = [\n  { container: \".accountmenu\", panel: \".accountmenu__panel\" },\n  { container: \".sortmenu\", panel: \".sortmenu__panel\" },\n  { container: \".cardmenu\", panel: \".cardmenu__panel\" },\n  { container: \".sidebar\", panel: \".sidebar\" },\n];\n\nfunction closeAllOutsideClick(e) {\n  OUTSIDE_CLICK_TARGETS.forEach(({ container, panel }) => {\n    const el = document.querySelector(panel);\n    if (!el) return;\n\n    if (!e.target.closest(container) && el.classList.contains(\"open\")) {\n      el.classList.remove(\"open\");\n    }\n  });\n}\n","import \"../scss/main.scss\";\nimport { renderSidebar } from \"./components/sidebar.js\";\nimport { renderApp } from \"./components/app.js\";\nimport { initState } from \"./state/state.js\";\nimport { initHandlers } from \"../handlers/handlers.js\";\n\nasync function init() {\n  await initState();\n  renderApp();\n  initHandlers(); // add this\n}\n\ninit();\n"],"names":["withBase","path","fetchData","url","response","error","createBookmark","overrides","icons","SORT_OPTIONS","renderBookmarks","renderSortOptions","renderBookmarkItem","option","isActive","state","getSortedBookmarks","bookmark","panelId","archiveBtn","deleteBtn","editBtn","pinBtn","tag","formatDates","saveToStorage","bookmarks","theme","loadFromStorage","data","refreshUI","renderSidebar","getTagCounts","tagCounts","initState","storageData","baseBookmarks","b","searchedBookmark","a","date","dateObj","deleteBookmark","id","isHomeActive","isArchivedActive","createTags","key","value","isSelected","getFavicon","urlString","validateForm","title","description","tags","isValid","val","input","validate","clearError","setError","addNewBookMark","newbookmark","toUpdateBookmark","clearForm","field","renderModal","toggleModal","selector","isOpen","modal","focused","renderHeader","lightActive","darkActive","isLightPressed","isDarkPressed","renderApp","app","html","setTheme","root","syncThemeButtons","lightBtn","darkBtn","isLight","setAccountMenuOpen","accountmenu","accountMenuBtn","setSidebarOpen","sidebar","menuBtn","initHandlers","action","clickedBtn","closeAllOutsideClick","toggleSortMenu","btn","cardsContainer","t","selectedBookmark","form","OUTSIDE_CLICK_TARGETS","container","panel","el","init"],"mappings":"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"}